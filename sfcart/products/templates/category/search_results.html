<!-- templates/category/search_results.html -->
{% extends "base.html" %}

{% block title %}Search Results{% endblock %}

{% block content %}
    <h1 class="mx-80 pt-10">Search Results for "{{ query }}"</h1>
    {% if products %}
    <div class="grid grid-cols-6 gap-2 mx-80 pt-10">
        {% for product in products %}
            <a href="{% url 'products:product_detail' product.id %}">
                <div class="w-48 flex flex-col gap-2 transition ease-in-out delay-150 hover:shadow-md hover:scale-105 duration-200">
                    {% if product.product_images.first %}
                    <div class="w-full rounded-md">
                        <img class="rounded" src="{{product.product_images.first.product_image.url}}" alt="{{product.name}}">
                    </div>
                    {% else %}
                    <p>Image is not available</p>
                    {% endif %}
                    <h2>{{product.name|title }}</h2>
                    <p>{{ product.description|slice:":20" }}...</p>
                    <p>{{product.price}} INR</p>
                    <div class="flex gap-2 items-center pt-1">
                        <h4>Size: </h4>
                        {% for size in product.available_sizes.all|slice:":3" %}
                            <div class="w-8 h-8 border hover:bg-gray-100 flex justify-center items-center">
                                <p >{{size.size|title}}</p>
                            </div>
                        {% endfor  %}
                        ....
                    </div>
                </div>
            </a>
        {% endfor %}
        {% else %}
            <p class="mx-80 pt-10">No products found.</p>
        {% endif %}
    </div>

{% endblock %}
